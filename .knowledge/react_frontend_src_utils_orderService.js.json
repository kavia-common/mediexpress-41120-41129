{"is_source_file": true, "format": "JavaScript", "description": "This file defines utility functions and constants for managing orders within a frontend application, including creating, retrieving, updating order statuses, and localStorage interactions.", "external_files": [], "external_methods": [], "published": ["ORDER_STATUSES", "createOrder", "getOrder", "getOrderStatus"], "classes": [], "methods": [{"name": "safeJsonParse(value, fallback)", "description": "Safely parses a JSON string, returning a fallback value in case of errors.", "scope": "", "scopeKind": ""}, {"name": "loadAllOrders()", "description": "Loads all orders from localStorage, returning an object mapping order IDs to order data.", "scope": "", "scopeKind": ""}, {"name": "saveAllOrders(ordersById)", "description": "Saves the provided orders object to localStorage.", "scope": "", "scopeKind": ""}, {"name": "nowIso()", "description": "Returns the current timestamp in ISO string format.", "scope": "", "scopeKind": ""}, {"name": "generateOrderId()", "description": "Generates a unique order ID based on current date and randomness.", "scope": "", "scopeKind": ""}, {"name": "clampStatus(status)", "description": "Ensures the status string is within the defined ORDER_STATUSES; defaults to 'PLACED'.", "scope": "", "scopeKind": ""}, {"name": "getStatusIndex(status)", "description": "Returns the index of a status within ORDER_STATUSES, with a minimum of 0.", "scope": "", "scopeKind": ""}, {"name": "nextStatus(status)", "description": "Returns the next status following the current one, or the last if already at final.", "scope": "", "scopeKind": ""}, {"name": "progressOrderIfDue(order, nowMs)", "description": "Advances the order status based on elapsed time since creation, simulating progress over time.", "scope": "", "scopeKind": ""}, {"name": "createOrder(cartItems, totals)", "description": "Creates and persists a new order object with provided cart items and totals.", "scope": "", "scopeKind": ""}, {"name": "getOrder(orderId)", "description": "Retrieves an order by ID from localStorage.", "scope": "", "scopeKind": ""}, {"name": "getOrderStatus(orderId)", "description": "Returns the latest status of an order, progressing it if due.", "scope": "", "scopeKind": ""}], "calls": ["loadAllOrders", "saveAllOrders", "generateOrderId", "safeJsonParse", "Date.parse", "Date", "Date.now", "loadAllOrders", "saveAllOrders"], "search-terms": ["orderService", "localStorage", "order creation", "order status progression", "order ID generation", "order history", "orderStatuses"], "state": 2, "file_id": 29, "knowledge_revision": 91, "git_revision": "", "ctags": [{"_type": "tag", "name": "ORDER_STATUSES", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^export const ORDER_STATUSES = [\"PLACED\", \"PREPARING\", \"DISPATCHED\", \"OUT_FOR_DELIVERY\", \"DELIVER/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^const STORAGE_KEY = \"mx_orders_v1\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "clampStatus", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function clampStatus(status) {$/", "language": "JavaScript", "kind": "function", "signature": "(status)"}, {"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^export function createOrder(cartItems, totals) {$/", "language": "JavaScript", "kind": "function", "signature": "(cartItems, totals)"}, {"_type": "tag", "name": "generateOrderId", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function generateOrderId() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getOrder", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^export function getOrder(orderId) {$/", "language": "JavaScript", "kind": "function", "signature": "(orderId)"}, {"_type": "tag", "name": "getOrderStatus", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^export function getOrderStatus(orderId) {$/", "language": "JavaScript", "kind": "function", "signature": "(orderId)"}, {"_type": "tag", "name": "getStatusIndex", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function getStatusIndex(status) {$/", "language": "JavaScript", "kind": "function", "signature": "(status)"}, {"_type": "tag", "name": "loadAllOrders", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function loadAllOrders() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "nextStatus", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function nextStatus(status) {$/", "language": "JavaScript", "kind": "function", "signature": "(status)"}, {"_type": "tag", "name": "nowIso", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function nowIso() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "orderId", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^    orderId,$/", "language": "JavaScript", "kind": "field", "scope": "createOrder.order", "scopeKind": "class"}, {"_type": "tag", "name": "progressOrderIfDue", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function progressOrderIfDue(order, nowMs) {$/", "language": "JavaScript", "kind": "function", "signature": "(order, nowMs)"}, {"_type": "tag", "name": "safeJsonParse", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function safeJsonParse(value, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(value, fallback)"}, {"_type": "tag", "name": "saveAllOrders", "path": "/home/kavia/workspace/code-generation/mediexpress-41120-41129/react_frontend/src/utils/orderService.js", "pattern": "/^function saveAllOrders(ordersById) {$/", "language": "JavaScript", "kind": "function", "signature": "(ordersById)"}], "hash": "b9faff62637deecdb82eea7b2a355cfb", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/utils/orderService.js", "fields": [{"name": "orderId,", "scope": "createOrder.order", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"91": ""}]}